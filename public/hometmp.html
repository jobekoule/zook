<!DOCTYPE html>
<html ng-app="test">
  <head>
    <meta charset="utf-8">
    <title>Home</title>
  </head>
  <body ng-controller="testController as store">
    HOME !
    <br/>
    <a href="addpost.html">add post ?</a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.9/angular.min.js"></script>
    <script>
    (function() {
      var app = angular.module('test', []);
      app.controller('testController', function(appService) {
        appService.getAll().then(function(data) {
          console.log(data);
        });
      });

      app.factory('appService', function($http) {
        return {
          getAll: getAll
        };
        function getAll() {
          return $http.get('/api/membres').then(complete).catch(failed);
        }
        function complete(response) {
          return response;
        }
        function failed(error) {
          console.log(error.statusText);
        }
      });
    })();
    </script>
  </body>
</html>
